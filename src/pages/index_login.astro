---
import Layout from "../layouts/Layout.astro"
import Header from "../components/Header.astro"
import Footer from "../components/Footer.astro"
import Banner_User from "../components/public_user/Banner_User.astro"

interface WordItem{
    word: string;
    es: string;
    en: string;
}

const response = await fetch("http://localhost:4000/words");

const data: WordItem[] = await response.json();

let response_flag = await fetch("http://localhost:4000/flag/res");

let flag = await response_flag.json();

let text = {
    titulo_inicio: (data.find(item => item.word === "titulo_inicio") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    nombre_inicio: (data.find(item => item.word === "nombre_inicio") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    descripcion_inicio: (data.find(item => item.word === "descripcion_inicio") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    calcular_inicio: (data.find(item => item.word === "calcular_inicio") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    online_title: (data.find(item => item.word === "article_1_titulo") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    online_description: (data.find(item => item.word === "article_1_description") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    cuota_title: (data.find(item => item.word === "article_2_titulo") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    cuota_description: (data.find(item => item.word === "article_2_description") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    pay_title: (data.find(item => item.word === "article_3_titulo") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    pay_description: (data.find(item => item.word === "article_3_description") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    tasa_title: (data.find(item => item.word === "article_4_titulo") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    tasa_description: (data.find(item => item.word === "article_4_description") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    recursos_footer_titulo: (data.find(item => item.word === "recursos_footer_titulo") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    recursos_item_1: (data.find(item => item.word === "recursos_item_1") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    recursos_item_2: (data.find(item => item.word === "recursos_item_2") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    recursos_item_3: (data.find(item => item.word === "recursos_item_3") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    recursos_item_4: (data.find(item => item.word === "recursos_item_4") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    siganos_footer_titulo: (data.find(item => item.word === "siganos_footer_titulo") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    siganos_item_1: (data.find(item => item.word === "siganos_item_1") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    siganos_item_2: (data.find(item => item.word === "siganos_item_2") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    legal_footer_titulo: (data.find(item => item.word === "legal_footer_titulo") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    legal_item_1: (data.find(item => item.word === "legal_item_1") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    legal_item_2: (data.find(item => item.word === "legal_item_2") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    rights_footer: (data.find(item => item.word === "rights_footer") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    iniciar_text: (data.find(item => item.word === "iniciar_text") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
    registrarse_text: (data.find(item => item.word === "registrarse_text") || {})[flag.flag === "es" ? 'es' : 'en'] as string,
};
---

<Layout title="Sebxstt - Inicio">
    <Header
        href_image="/"
        href_signin="./SignIn"
        href_signup="./SignUp"
        registrarse_text={text.registrarse_text}
        iniciar_text={text.iniciar_text}
    ></Header>
	<Banner_User link_first=""></Banner_User>
    <Footer
        recursos_footer_titulo={text.recursos_footer_titulo}
        recursos_item_1={text.recursos_item_1}
        recursos_item_2={text.recursos_item_2}
        recursos_item_3={text.recursos_item_3}
        recursos_item_4={text.recursos_item_4}
        siganos_footer_titulo={text.siganos_footer_titulo}
        siganos_item_1={text.siganos_item_1}
        siganos_item_2={text.siganos_item_2}
        legal_footer_titulo={text.legal_footer_titulo}
        legal_item_1={text.legal_item_1}
        legal_item_2={text.legal_item_2}
        rights_footer={text.rights_footer}
    ></Footer></Layout>